document.addEventListener('DOMContentLoaded', function() {
    filterExploits();
});

function filterExploits() {
    const versionSelect = document.getElementById('ver-select');
    const catSelect = document.getElementById('cat-select');
    const ownerSelect = document.getElementById('owner-select');
    const exploitBtns = document.querySelectorAll('#exploit-btn');

    const versionValue = versionSelect.value;
    const catValue = catSelect.value;
    const ownerValue = ownerSelect.value;

    exploitBtns.forEach(button => {
        const catElement = button.querySelector('.exploit-cat');
        const authorElement = button.querySelector('.exploit-author');
        const selectedVersion = parseInt(versionSelect.value.split(' ')[1]);

        const catText = catElement.textContent;
        const authorText = authorElement.textContent;
        
        const btnVersion = parseInt(btn.querySelector('.exploit-version').textContent);
        if (btnVersion >= selectedVersion) {
            btn.style.display = 'block'; 
        } else {
            btn.style.display = 'none';
        }

        const showButton =
            (catValue === 'Category' || catText.includes(catValue)) &&
            (ownerValue === 'Owner' || authorText.includes(ownerValue));

        button.style.display = showButton ? 'block' : 'none';
    });
}

versionSelect.addEventListener('change', filterExploits);
document.getElementById('cat-select').addEventListener('change', filterExploits);
document.getElementById('owner-select').addEventListener('change', filterExploits);
